<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `radiant_rs` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, radiant_rs">

    <title>radiant_rs - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    <link rel="shortcut icon" href="https://sinesc.github.io/images/radiant-favicon.png">
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <a href='../radiant_rs/index.html'><img src='https://sinesc.github.io/images/radiant-logo.png' alt='logo' width='100'></a>
        <p class='location'></p><script>window.sidebarCurrent = {name: 'radiant_rs', ty: 'mod', relpath: '../'};</script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Crate <a class='mod' href=''>radiant_rs</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/radiant_rs/lib.rs.html#1-107' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>Thread-safe Rust sprite rendering engine with a friendly API and custom shader support.</p>

<p>To view the reference, scroll down or collapse this block using the [-] to the left.</p>

<p><strong>This is work-in-progress. Parts of the API are incomplete and will likely still change somewhat.</strong></p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<p>The examples folder contains multiple small examples. They can be run via <code>cargo run --example &lt;example name&gt;</code>, e.g.</p>

<p><code>cargo run --example demo_blobs</code> to run demo_blobs.rs</p>

<h1 id='basic-rendering' class='section-header'><a href='#basic-rendering'>Basic rendering</a></h1>
<ol>
<li>Create a <a href="struct.Display.html">display</a> with <code>Display::new()</code>. This represents the window/screen.</li>
<li>Create a <a href="struct.Renderer.html">renderer</a> with <code>Renderer::new()</code>. It is used to draw to rendertargets like the display.</li>
<li>Grab a context from the renderer using the <code>context()</code> method. It is required for resource loading.</li>
<li>Load <a href="struct.Sprite.html">sprites</a> or <a href="struct.Font.html">fonts</a> using e.g. <code>Font::from_file()</code> or <code>Sprite::from_file()</code>.</li>
<li>Create as many drawing <a href="struct.Layer.html">layers</a> as you need using <code>Layer::new()</code>.</li>
<li>Draw to the layer using the <code>Font::write()</code> or <code>Sprite::draw()</code> methods.</li>
<li>Prepare a new frame and clear it using <code>Display::clear_frame()</code>. (If you don&#39;t want to clear, use <code>Display::prepare_frame()</code> instead.)</li>
<li>Draw the contents of your layers to the display using <code>Renderer::draw_layer()</code>.</li>
<li>Make the frame visible via <code>Display::swap_frame()</code>.</li>
<li>Consider clearing the layer and goto 6. Or maybe simply change some layer properties and redraw it starting a step 7.</li>
</ol>

<h1 id='drawing-from-multiple-threads' class='section-header'><a href='#drawing-from-multiple-threads'>Drawing from multiple threads</a></h1>
<ol>
<li>Wrap fonts, sprites, and layers or scenes in <code>Arc</code>s.</li>
<li>Clone the <code>Arc</code>s for each thread that needs their contents. The rendercontext can be cloned directly.</li>
<li>Move the clones into the thread.</li>
<li>Draw onto your layers, load sprites etc. from any thread(s). Layers are non-blocking for drawing operations,
blocking for other manipulations (e.g. matrix modification).</li>
<li>Perform steps 7-10 from the above list in the thread that created the <code>Renderer</code>; both it and <code>Display</code> do not implement <code>Send</code>.</li>
</ol>

<h1 id='sprite-sheets' class='section-header'><a href='#sprite-sheets'>Sprite-sheets</a></h1>
<p>Currently sprite-sheets are required to be sheets of one or more either horizontally or vertically aligned sprite frames. Each frame
can have multiple components aligned orthogonally to the frames. Components could be the sprite&#39;s color image, a light or distortion
map for the shader etc.</p>

<p>Filenames are required to express the sprite format, e.g. <code>battery_lightmapped_128x128x15x2</code> would be 15 frames of a 128x128 sprite using
two components. This is a scaled version of how it could look. The Color component is in the top row, a lightmap component in the bottom
row:</p>

<p><img src="https://sinesc.github.io/images/spritesheet.png" alt="Spritesheet" title="Spritesheet"></p>

<h1 id='custom-shaders' class='section-header'><a href='#custom-shaders'>Custom shaders</a></h1>
<p>Radiant supports the use of custom fragment shaders. When you create a program, a tiny wrapper is injected into the source to
make it compatible with the different internal shader programs used by the library. Instead of <code>texture()</code> you would then use <code>sheet()</code> to
retrieve data from the current texture, etc. (This is required as the texture might come from a sampler or sampler array.)
It is possible to add custom uniforms, including textures, to your shader. The postprocessing example uses a shader that takes
5 samplers and combines them.</p>

<p>Available default inputs:</p>

<ul>
<li><code>uniform mat4 u_view</code> The view matrix if applicable, otherwise the identity.</li>
<li><code>uniform mat4 u_model</code> The model matrix if applicable, otherwise the identity.</li>
<li><code>in vec2 v_tex_coords</code> Texture coordinates.</li>
<li><code>in vec4 v_color</code> Color multiplier. For layers this is sprite color * layer color.</li>
</ul>

<p>Wrappers:</p>

<ul>
<li><code>vec2 sheetSize()</code> Retrieves the dimensions of the texture. Replaces <code>textureSize()</code>.</li>
<li><code>vec4 sheet(in vec2 texture_coords)</code> Retrieves texels from the texture. Replaces <code>texture()</code></li>
<li>!todo add other texture*.</li>
</ul>

<p>Example: (This is the default shader used by radiant.)</p>

<pre class='rust rust-example-rendered'>
<span class='attribute'>#<span class='ident'>version</span> <span class='number'>140</span>

<span class='kw'>in</span> <span class='ident'>vec2</span> <span class='ident'>v_tex_coords</span>;
<span class='kw'>in</span> <span class='ident'>vec4</span> <span class='ident'>v_color</span>;

<span class='ident'>out</span> <span class='ident'>vec4</span> <span class='ident'>f_color</span>;

<span class='ident'>void</span> <span class='ident'>main</span>() {
    <span class='ident'>f_color</span> <span class='op'>=</span> <span class='ident'>sheet</span>(<span class='ident'>v_tex_coords</span>) <span class='op'>*</span> <span class='ident'>v_color</span>;
}</pre>
</div><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='mod' href='blendmodes/index.html'
                                  title='radiant_rs::blendmodes'>blendmodes</a></td>
                           <td class='docblock-short'>
                                <p>A set of predefined blendmodes for use with <code>Layer::set_blendmode()</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='postprocessors/index.html'
                                  title='radiant_rs::postprocessors'>postprocessors</a></td>
                           <td class='docblock-short'>
                                <p>A set of predefined postprocessors for use with <code>Renderer::postprocess()</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='scene/index.html'
                                  title='radiant_rs::scene'>scene</a></td>
                           <td class='docblock-short'>
                               [<em class='stab deprecated'>Deprecated</em>] <p>Optional scene abstraction.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='utils/index.html'
                                  title='radiant_rs::utils'>utils</a></td>
                           <td class='docblock-short'>
                                <p>Optional utility features. These may eventually be moved into the example code or a separate library.</p>
                           </td>
                       </tr></table><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Angle.html'
                                  title='radiant_rs::Angle'>Angle</a></td>
                           <td class='docblock-short'>
                                <p>An Angle between -PI and PI.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.BlendMode.html'
                                  title='radiant_rs::BlendMode'>BlendMode</a></td>
                           <td class='docblock-short'>
                                <p>A blendmode for use with <code>Layer::set_blendmode()</code>.
See <a href="blendmodes/index.html">blendmodes</a> for a list of predefined modes.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Color.html'
                                  title='radiant_rs::Color'>Color</a></td>
                           <td class='docblock-short'>
                                <p>A color value consisting of four floating point values for the color channels red, green, blue
and alpha.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Display.html'
                                  title='radiant_rs::Display'>Display</a></td>
                           <td class='docblock-short'>
                                <p>A target to render to, e.g. a window or full screen.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.DisplayInfo.html'
                                  title='radiant_rs::DisplayInfo'>DisplayInfo</a></td>
                           <td class='docblock-short'>
                                <p>A struct describing a <a href="struct.Display.html"><code>Display</code></a> to be created.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Font.html'
                                  title='radiant_rs::Font'>Font</a></td>
                           <td class='docblock-short'>
                                <p>A font used for writing on a <a href="struct.Layer.html"><code>Layer</code></a>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.FontInfo.html'
                                  title='radiant_rs::FontInfo'>FontInfo</a></td>
                           <td class='docblock-short'>
                                <p>A struct used to filter the result of <a href="struct.Font.html#method.query_specific"><code>Font::query_specific()</code></a>
or to describe a <a href="struct.Font.html"><code>Font</code></a> to be created from a system font
via <a href="struct.Font.html#method.from_info"><code>Font::from_info()</code></a>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Input.html'
                                  title='radiant_rs::Input'>Input</a></td>
                           <td class='docblock-short'>
                                <p>Basic keyboard and mouse support.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.InputDownIterator.html'
                                  title='radiant_rs::InputDownIterator'>InputDownIterator</a></td>
                           <td class='docblock-short'>
                                <p>An iterator over all keys all buttons currently pressed.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.InputIterator.html'
                                  title='radiant_rs::InputIterator'>InputIterator</a></td>
                           <td class='docblock-short'>
                                <p>An iterator over all keys and buttons.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.InputUpIterator.html'
                                  title='radiant_rs::InputUpIterator'>InputUpIterator</a></td>
                           <td class='docblock-short'>
                                <p>An iterator over all keys all buttons currently not pressed.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Layer.html'
                                  title='radiant_rs::Layer'>Layer</a></td>
                           <td class='docblock-short'>
                                <p>A non-blocking, thread-safe drawing target.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Mat4.html'
                                  title='radiant_rs::Mat4'>Mat4</a></td>
                           <td class='docblock-short'>
                                <p>A 4x4 matrix.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Monitor.html'
                                  title='radiant_rs::Monitor'>Monitor</a></td>
                           <td class='docblock-short'>
                                <p>An individual monitor, returned from <a href="struct.Display.html#method.monitors"><code>Display::monitors()</code></a>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Program.html'
                                  title='radiant_rs::Program'>Program</a></td>
                           <td class='docblock-short'>
                                <p>A shader program and its uniforms.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Rect.html'
                                  title='radiant_rs::Rect'>Rect</a></td>
                           <td class='docblock-short'>
                                <p>A rectangle.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.RenderContext.html'
                                  title='radiant_rs::RenderContext'>RenderContext</a></td>
                           <td class='docblock-short'>
                                <p>A thread-safe render-context.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Renderer.html'
                                  title='radiant_rs::Renderer'>Renderer</a></td>
                           <td class='docblock-short'>
                                <p>A renderer is used to render <a href="struct.Layer.html"><code>Layer</code></a>s or <a href="scene/struct.Scene.html"><code>Scene</code></a>s to the
<a href="struct.Display.html"><code>Display</code></a>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Sprite.html'
                                  title='radiant_rs::Sprite'>Sprite</a></td>
                           <td class='docblock-short'>
                                <p>A sprite used for drawing on a <a href="struct.Layer.html"><code>Layer</code></a>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Texture.html'
                                  title='radiant_rs::Texture'>Texture</a></td>
                           <td class='docblock-short'>
                                <p>A texture.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Vec2.html'
                                  title='radiant_rs::Vec2'>Vec2</a></td>
                           <td class='docblock-short'>
                                <p>A 2-dimensional vector.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Vec3.html'
                                  title='radiant_rs::Vec3'>Vec3</a></td>
                           <td class='docblock-short'>
                                <p>A 3-dimensional vector.</p>
                           </td>
                       </tr></table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.Error.html'
                                  title='radiant_rs::Error'>Error</a></td>
                           <td class='docblock-short'>
                                <p>Radiant errors.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.InputId.html'
                                  title='radiant_rs::InputId'>InputId</a></td>
                           <td class='docblock-short'>
                                <p>Input key and mousebutton ids</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.InputState.html'
                                  title='radiant_rs::InputState'>InputState</a></td>
                           <td class='docblock-short'>
                                <p>The current state of a key or mousebutton.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.RenderTarget.html'
                                  title='radiant_rs::RenderTarget'>RenderTarget</a></td>
                           <td class='docblock-short'>
                                <p>An enum of render target type instances.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.TextureFilter.html'
                                  title='radiant_rs::TextureFilter'>TextureFilter</a></td>
                           <td class='docblock-short'>
                                <p>Texture minify- or magnify filtering function.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.TextureWrap.html'
                                  title='radiant_rs::TextureWrap'>TextureWrap</a></td>
                           <td class='docblock-short'>
                                <p>Texture wrapping function.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.Uniform.html'
                                  title='radiant_rs::Uniform'>Uniform</a></td>
                           <td class='docblock-short'>
                                <p>A uniform value.</p>
                           </td>
                       </tr></table><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='trait' href='trait.AsUniform.html'
                                  title='radiant_rs::AsUniform'>AsUniform</a></td>
                           <td class='docblock-short'>
                                <p>A value usable as a uniform.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='trait' href='trait.Postprocessor.html'
                                  title='radiant_rs::Postprocessor'>Postprocessor</a></td>
                           <td class='docblock-short'>
                                <p>A custom postprocessor.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='trait' href='trait.VecType.html'
                                  title='radiant_rs::VecType'>VecType</a></td>
                           <td class='docblock-short'>
                                <p>Trait for values that can be converted to a vector.</p>
                           </td>
                       </tr></table><h2 id='types' class='section-header'><a href="#types">Type Definitions</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='type' href='type.Point2.html'
                                  title='radiant_rs::Point2'>Point2</a></td>
                           <td class='docblock-short'>
                                <p>A 2-dimensional point.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='type' href='type.Point3.html'
                                  title='radiant_rs::Point3'>Point3</a></td>
                           <td class='docblock-short'>
                                <p>A 3-dimensional point.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='type' href='type.Result.html'
                                  title='radiant_rs::Result'>Result</a></td>
                           <td class='docblock-short'>
                                <p>Radiant result.</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "radiant_rs";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>