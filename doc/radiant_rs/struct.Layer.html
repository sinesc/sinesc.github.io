<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Layer` struct in crate `radiant_rs`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Layer">

    <title>radiant_rs::Layer - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    <link rel="shortcut icon" href="https://sinesc.github.io/images/radiant-favicon.png">
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <a href='../radiant_rs/index.html'><img src='https://sinesc.github.io/images/radiant-logo.png' alt='logo' width='100'></a>
        <p class='location'><a href='index.html'>radiant_rs</a></p><script>window.sidebarCurrent = {name: 'Layer', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>radiant_rs</a>::<wbr><a class='struct' href=''>Layer</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/radiant_rs/core/layer.rs.html#21-28' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Layer { /* fields omitted */ }</pre><div class='docblock'><p>A drawing surface for text and sprites that implements send+sync and is wait-free for drawing operations.</p>

<p>In radiant_rs, sprite drawing happens on layers. Layers provide transformation capabilities in
the form of model- and view-matrices and the layer&#39;s blendmode and color determine
how sprites are rendered to the drawing target. Layers can be rendered multiple times using
different matrices, blendmodes or colors without having to redraw their contents first.</p>

<p>For convenience, layers are created with a view-matrix that maps the given dimensions to the
entirety of the drawing target. The layer itself is infinite though, and can be transformed at any
time before rendering.</p>

<p>Drawing to a layer is a wait-free atomic operation that can be safely performed from multiple threads at
the same time. Modifying layer properties like the matrices may cause other threads to wait.</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../radiant_rs/struct.Layer.html' title='radiant_rs::Layer'>Layer</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/radiant_rs/core/layer.rs.html#38-182' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class='method'><span id='new.v' class='invisible'><code>fn <a href='#method.new' class='fnname'>new</a>&lt;T&gt;(dimensions: T) -&gt; Self <span class='where fmt-newline'>where <a class='struct' href='../radiant_rs/math/struct.Vec2.html' title='radiant_rs::math::Vec2'>Vec2</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.f32.html'>f32</a>&gt;: <a class='trait' href='https://doc.rust-lang.org/nightly/core/convert/trait.From.html' title='core::convert::From'>From</a>&lt;T&gt;</span></code></span></h4>
<div class='docblock'><p>Creates a new layer with given dimensions, meaning that is is created with
a view matrix that maps the given dimensions to the entirety of the drawing target.</p>
</div><h4 id='method.with_program' class='method'><span id='with_program.v' class='invisible'><code>fn <a href='#method.with_program' class='fnname'>with_program</a>&lt;T&gt;(dimensions: T, program: <a class='struct' href='../radiant_rs/struct.Program.html' title='radiant_rs::Program'>Program</a>) -&gt; Self <span class='where fmt-newline'>where <a class='struct' href='../radiant_rs/math/struct.Vec2.html' title='radiant_rs::math::Vec2'>Vec2</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.f32.html'>f32</a>&gt;: <a class='trait' href='https://doc.rust-lang.org/nightly/core/convert/trait.From.html' title='core::convert::From'>From</a>&lt;T&gt;</span></code></span></h4>
<div class='docblock'><p>Creates a new layer with given dimensions and fragment program.</p>
</div><h4 id='method.clone_with_program' class='method'><span id='clone_with_program.v' class='invisible'><code>fn <a href='#method.clone_with_program' class='fnname'>clone_with_program</a>(&amp;self, program: <a class='struct' href='../radiant_rs/struct.Program.html' title='radiant_rs::Program'>Program</a>) -&gt; Self</code></span></h4>
<div class='docblock'><p>Creates a new layer that references the contents of this layer but has its own
color, blendmode, program and set of matrices.</p>
</div><h4 id='method.set_color' class='method'><span id='set_color.v' class='invisible'><code>fn <a href='#method.set_color' class='fnname'>set_color</a>(&amp;self, color: <a class='struct' href='../radiant_rs/struct.Color.html' title='radiant_rs::Color'>Color</a>) -&gt; &amp;Self</code></span></h4>
<div class='docblock'><p>Sets a global color multiplicator. Setting this to white means that the layer contents
are renderered in their original colors.</p>

<p>Note that <a href="struct.Color.html"><code>Colors</code></a> contain
alpha information and are not clamped to any range, so it is possible to use an overbright
color to brighten the result or use the alpha channel to apply global transparency.</p>
</div><h4 id='method.color' class='method'><span id='color.v' class='invisible'><code>fn <a href='#method.color' class='fnname'>color</a>(&amp;self) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/std/sync/mutex/struct.MutexGuard.html' title='std::sync::mutex::MutexGuard'>MutexGuard</a>&lt;<a class='struct' href='../radiant_rs/struct.Color.html' title='radiant_rs::Color'>Color</a>&gt;</code></span></h4>
<div class='docblock'><p>Returns a mutex guarded mutable reference to the global color multiplicator.</p>
</div><h4 id='method.set_view_matrix' class='method'><span id='set_view_matrix.v' class='invisible'><code>fn <a href='#method.set_view_matrix' class='fnname'>set_view_matrix</a>(&amp;self, matrix: <a class='struct' href='../radiant_rs/math/struct.Mat4.html' title='radiant_rs::math::Mat4'>Mat4</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.f32.html'>f32</a>&gt;) -&gt; &amp;Self</code></span></h4>
<div class='docblock'><p>Sets the view matrix.</p>

<p>View matrix transformation is applied after the objects are fully positioned on the layer.
As a result, manipulating the view matrix has the effect of manipulating the layer itself,
e.g. rotating the entire layer.</p>
</div><h4 id='method.view_matrix' class='method'><span id='view_matrix.v' class='invisible'><code>fn <a href='#method.view_matrix' class='fnname'>view_matrix</a>(&amp;self) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/std/sync/mutex/struct.MutexGuard.html' title='std::sync::mutex::MutexGuard'>MutexGuard</a>&lt;<a class='struct' href='../radiant_rs/math/struct.Mat4.html' title='radiant_rs::math::Mat4'>Mat4</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.f32.html'>f32</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns a mutex guarded mutable reference to the view matrix.
See <a href="#method.set_view_matrix"><code>set_view_matrix()</code></a> for a description of the view matrix.</p>
</div><h4 id='method.set_model_matrix' class='method'><span id='set_model_matrix.v' class='invisible'><code>fn <a href='#method.set_model_matrix' class='fnname'>set_model_matrix</a>(&amp;self, matrix: <a class='struct' href='../radiant_rs/math/struct.Mat4.html' title='radiant_rs::math::Mat4'>Mat4</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.f32.html'>f32</a>&gt;) -&gt; &amp;Self</code></span></h4>
<div class='docblock'><p>Sets the model matrix.</p>

<p>Model matrix transformation is applied before each object is transformed to its position
on the layer. As a result, manipulating the model matrix has the effect of manipulating
every object on the layer in the same way, e.g. rotating every individual object on the
layer around a point relative to the individual object.</p>
</div><h4 id='method.model_matrix' class='method'><span id='model_matrix.v' class='invisible'><code>fn <a href='#method.model_matrix' class='fnname'>model_matrix</a>(&amp;self) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/std/sync/mutex/struct.MutexGuard.html' title='std::sync::mutex::MutexGuard'>MutexGuard</a>&lt;<a class='struct' href='../radiant_rs/math/struct.Mat4.html' title='radiant_rs::math::Mat4'>Mat4</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.f32.html'>f32</a>&gt;&gt;</code></span></h4>
<div class='docblock'><p>Returns a mutex guarded mutable reference to the model matrix.
See <a href="#method.set_model_matrix"><code>set_model_matrix()</code></a> for a description of the model matrix.</p>
</div><h4 id='method.set_blendmode' class='method'><span id='set_blendmode.v' class='invisible'><code>fn <a href='#method.set_blendmode' class='fnname'>set_blendmode</a>(&amp;self, blendmode: <a class='struct' href='../radiant_rs/struct.BlendMode.html' title='radiant_rs::BlendMode'>BlendMode</a>) -&gt; &amp;Self</code></span></h4>
<div class='docblock'><p>Sets the blendmode.</p>
</div><h4 id='method.blendmode' class='method'><span id='blendmode.v' class='invisible'><code>fn <a href='#method.blendmode' class='fnname'>blendmode</a>(&amp;self) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/std/sync/mutex/struct.MutexGuard.html' title='std::sync::mutex::MutexGuard'>MutexGuard</a>&lt;<a class='struct' href='../radiant_rs/struct.BlendMode.html' title='radiant_rs::BlendMode'>BlendMode</a>&gt;</code></span></h4>
<div class='docblock'><p>Returns a mutex guarded mutable reference to the blendmode.</p>
</div><h4 id='method.clear' class='method'><span id='clear.v' class='invisible'><code>fn <a href='#method.clear' class='fnname'>clear</a>(&amp;self) -&gt; &amp;Self</code></span></h4>
<div class='docblock'><p>Removes all previously added objects from the layer. Typically invoked after the layer has
been rendered.</p>
</div><h4 id='method.capacity' class='method'><span id='capacity.v' class='invisible'><code>fn <a href='#method.capacity' class='fnname'>capacity</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></code></span></h4>
<div class='docblock'><p>Returns the number of sprites the layer can hold without having to perform a blocking reallocation.</p>
</div><h4 id='method.len' class='method'><span id='len.v' class='invisible'><code>fn <a href='#method.len' class='fnname'>len</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></code></span></h4>
<div class='docblock'><p>Returns the number of sprites currently stored the layer.</p>
</div><h4 id='method.arc' class='method'><span id='arc.v' class='invisible'><code>fn <a href='#method.arc' class='fnname'>arc</a>(self) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/alloc/arc/struct.Arc.html' title='alloc::arc::Arc'>Arc</a>&lt;Self&gt;</code></span></h4>
<div class='docblock'><p>Returns the layer wrapped in an std::Arc.</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html' title='core::clone::Clone'>Clone</a> for <a class='struct' href='../radiant_rs/struct.Layer.html' title='radiant_rs::Layer'>Layer</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/radiant_rs/core/layer.rs.html#30-36' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.clone' class='method'><span id='clone.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone' class='fnname'>clone</a>(&amp;self) -&gt; Self</code></span></h4>
<div class='docblock'><p>Creates a new layer that references the contents of this layer but has its own
color, blendmode and set of matrices.</p>
</div><h4 id='method.clone_from' class='method'><span id='clone_from.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from' class='fnname'>clone_from</a>(&amp;mut self, source: &amp;Self)</code><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div></span></h4>
<div class='docblock'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> for <a class='struct' href='../radiant_rs/struct.Layer.html' title='radiant_rs::Layer'>Layer</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/radiant_rs/core/layer.rs.html#295' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'></div><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html' title='core::marker::Sync'>Sync</a> for <a class='struct' href='../radiant_rs/struct.Layer.html' title='radiant_rs::Layer'>Layer</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/radiant_rs/core/layer.rs.html#296' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "radiant_rs";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>